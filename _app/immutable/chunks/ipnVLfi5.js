import{v as N,W as q,aE as x,aF as z,aG as B,u as G,aH as K,aA as M,I as P,am as w,aI as S,aJ as I,aK as W}from"./DKuIqvGj.js";import{b as $}from"./CVQHgbaf.js";import{w as j}from"./O3hv8ynQ.js";const H=()=>performance.now(),v={tick:r=>requestAnimationFrame(r),now:()=>H(),tasks:new Set};function g(){const r=v.now();v.tasks.forEach(t=>{t.c(r)||(v.tasks.delete(t),t.f())}),v.tasks.size!==0&&v.tick(g)}function J(r){let t;return v.tasks.size===0&&v.tick(g),{promise:new Promise(o=>{v.tasks.add(t={c:r,f:o})}),abort(){v.tasks.delete(t)}}}function O(r,t){j(()=>{r.dispatchEvent(new CustomEvent(t))})}function U(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const t=r.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(o=>o[0].toUpperCase()+o.slice(1)).join("")}function R(r){const t={},o=r.split(";");for(const e of o){const[f,i]=e.split(":");if(!f||i===void 0)break;const l=U(f.trim());t[l]=i.trim()}return t}const D=r=>r;function Z(r,t,o,e){var f=(r&K)!==0,i="in",l,y=t.inert,d=t.style.overflow,a,m;function h(){var u=W,p=N;S(null),I(null);try{return l??(l=o()(t,(e==null?void 0:e())??{},{direction:i}))}finally{S(u),I(p)}}var _={is_global:f,in(){t.inert=y,a==null||a.abort(),O(t,"introstart"),a=L(t,h(),m,1,()=>{O(t,"introend"),a==null||a.abort(),a=l=void 0,t.style.overflow=d})},out(u){{u==null||u(),l=void 0;return}},stop:()=>{a==null||a.abort()}},c=N;if((c.transitions??(c.transitions=[])).push(_),$){var s=f;if(!s){for(var n=c.parent;n&&(n.f&q)!==0;)for(;(n=n.parent)&&(n.f&x)===0;);s=!n||(n.f&z)!==0}s&&B(()=>{G(()=>_.in())})}}function L(r,t,o,e,f){if(M(t)){var i,l=!1;return P(()=>{if(!l){var n=t({direction:"in"});i=L(r,n,o,e,f)}}),{abort:()=>{l=!0,i==null||i.abort()},deactivate:()=>i.deactivate(),reset:()=>i.reset(),t:()=>i.t()}}if(!(t!=null&&t.duration))return f(),{abort:w,deactivate:w,reset:w,t:()=>e};const{delay:y=0,css:d,tick:a,easing:m=D}=t;var h=[];if(a&&a(0,1),d){var _=R(d(0,1));h.push(_,_)}var c=()=>1-e,s=r.animate(h,{duration:y,fill:"forwards"});return s.onfinish=()=>{s.cancel();var n=1-e,u=e-n,p=t.duration*Math.abs(u),F=[];if(p>0){var T=!1;if(d)for(var A=Math.ceil(p/16.666666666666668),E=0;E<=A;E+=1){var C=n+u*m(E/A),b=R(d(C,1-C));F.push(b),T||(T=b.overflow==="hidden")}T&&(r.style.overflow="hidden"),c=()=>{var k=s.currentTime;return n+u*m(k/p)},a&&J(()=>{if(s.playState!=="running")return!1;var k=c();return a(k,1-k),!0})}s=r.animate(F,{duration:p,fill:"forwards"}),s.onfinish=()=>{c=()=>e,a==null||a(e,1-e),f()}},{abort:()=>{s&&(s.cancel(),s.effect=null,s.onfinish=w)},deactivate:()=>{f=w},reset:()=>{},t:()=>c()}}const Q=r=>r;function tt(r,{delay:t=0,duration:o=400,easing:e=Q}={}){const f=+getComputedStyle(r).opacity;return{delay:t,duration:o,easing:e,css:i=>`opacity: ${i*f}`}}export{tt as f,Z as t};
