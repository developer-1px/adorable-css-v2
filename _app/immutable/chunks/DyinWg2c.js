import{V as R,aj as M,T as U,aG as C,o as E,u as z,af as D,aO as F,J,a8 as Q,aP as W,aQ as X,aR as Z,g as m,aS as x,aT as rr,M as $,aU as er}from"./DKuIqvGj.js";import{l as ar,d as ir,f as sr,g as tr,j as ur,n as fr,k as or,m as lr}from"./O3hv8ynQ.js";import{t as cr,c as nr,s as dr}from"./B2rizaui.js";function _r(r,a){var e=void 0,i;R(()=>{e!==(e=a())&&(i&&(M(i),i=null),e&&(i=U(()=>{C(()=>e(r))})))})}function O(r,a={},e,i){for(var s in e){var f=e[s];a[s]!==f&&(e[s]==null?r.style.removeProperty(s):r.style.setProperty(s,f,i))}}function vr(r,a,e,i){var s=r.__style;if(E||s!==a){var f=cr(a,i);(!E||f!==r.getAttribute("style"))&&(f==null?r.removeAttribute("style"):r.style.cssText=f),r.__style=a}else i&&(Array.isArray(i)?(O(r,e==null?void 0:e[0],i[0]),O(r,e==null?void 0:e[1],i[1],"important")):O(r,e,i));return i}function p(r,a,e){if(r.multiple){if(a==null)return;if(!D(a))return F();for(var i of r.options)i.selected=a.includes(T(i));return}for(i of r.options){var s=T(i);if(J(s,a)){i.selected=!0;return}}(!e||a!==void 0)&&(r.selectedIndex=-1)}function V(r,a){let e=!0;C(()=>{a&&p(r,z(a),e),e=!1;var i=new MutationObserver(()=>{var s=r.__value;p(r,s)});return i.observe(r,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{i.disconnect()}})}function Sr(r,a,e=a){var i=!0;ar(r,"change",s=>{var f=s?"[selected]":":checked",_;if(r.multiple)_=[].map.call(r.querySelectorAll(f),T);else{var v=r.querySelector(f)??r.querySelector("option:not([disabled])");_=v&&T(v)}e(_)}),C(()=>{var s=a();if(p(r,s,i),i&&s===void 0){var f=r.querySelector(":checked");f!==null&&(s=T(f),e(s))}r.__value=s,i=!1}),V(r)}function T(r){return"__value"in r?r.__value:r.value}const S=Symbol("class"),k=Symbol("style"),H=Symbol("is custom element"),Y=Symbol("is html");function kr(r){if(E){var a=!1,e=()=>{if(!a){if(a=!0,r.hasAttribute("value")){var i=r.value;w(r,"value",null),r.value=i}if(r.hasAttribute("checked")){var s=r.checked;w(r,"checked",null),r.checked=s}}};r.__on_r=e,er(e),or()}}function Tr(r,a){var e=I(r);e.checked!==(e.checked=a??void 0)&&(r.checked=a)}function hr(r,a){a?r.hasAttribute("selected")||r.setAttribute("selected",""):r.removeAttribute("selected")}function w(r,a,e,i){var s=I(r);E&&(s[a]=r.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&r.nodeName==="LINK")||s[a]!==(s[a]=e)&&(a==="loading"&&(r[W]=e),e==null?r.removeAttribute(a):typeof e!="string"&&B(r).includes(a)?r[a]=e:r.setAttribute(a,e))}function br(r,a,e,i,s=!1){var f=I(r),_=f[H],v=!f[Y];let b=E&&_;b&&$(!1);var o=a||{},A=r.tagName==="OPTION";for(var h in a)h in e||(e[h]=null);e.class?e.class=nr(e.class):e[S]&&(e.class=null),e[k]&&(e.style??(e.style=null));var N=B(r);for(const t in e){let u=e[t];if(A&&t==="value"&&u==null){r.value=r.__value="",o[t]=u;continue}if(t==="class"){var y=r.namespaceURI==="http://www.w3.org/1999/xhtml";dr(r,y,u,i,a==null?void 0:a[S],e[S]),o[t]=u,o[S]=e[S];continue}if(t==="style"){vr(r,u,a==null?void 0:a[k],e[k]),o[t]=u,o[k]=e[k];continue}var c=o[t];if(!(u===c&&!(u===void 0&&r.hasAttribute(t)))){o[t]=u;var P=t[0]+t[1];if(P!=="$$")if(P==="on"){const n={},g="$$"+t;let l=t.slice(2);var L=lr(l);if(ir(l)&&(l=l.slice(0,-7),n.capture=!0),!L&&c){if(u!=null)continue;r.removeEventListener(l,o[g],n),o[g]=null}if(u!=null)if(L)r[`__${l}`]=u,tr([l]);else{let G=function(K){o[t].call(this,K)};o[g]=sr(l,r,G,n)}else L&&(r[`__${l}`]=void 0)}else if(t==="style")w(r,t,u);else if(t==="autofocus")ur(r,!!u);else if(!_&&(t==="__value"||t==="value"&&u!=null))r.value=r.__value=u;else if(t==="selected"&&A)hr(r,u);else{var d=t;v||(d=fr(d));var q=d==="defaultValue"||d==="defaultChecked";if(u==null&&!_&&!q)if(f[t]=null,d==="value"||d==="checked"){let n=r;const g=a===void 0;if(d==="value"){let l=n.defaultValue;n.removeAttribute(d),n.defaultValue=l,n.value=n.__value=g?l:null}else{let l=n.defaultChecked;n.removeAttribute(d),n.defaultChecked=l,n.checked=g?l:!1}}else r.removeAttribute(t);else q||N.includes(d)&&(_||typeof u!="string")?r[d]=u:typeof u!="function"&&w(r,d,u)}}}return b&&$(!0),o}function Er(r,a,e=[],i,s=!1,f=Q){const _=e.map(f);var v=void 0,b={},o=r.nodeName==="SELECT",A=!1;R(()=>{var h=a(..._.map(m)),N=br(r,v,h,i,s);A&&o&&"value"in h&&p(r,h.value,!1);for(let c of Object.getOwnPropertySymbols(b))h[c]||M(b[c]);for(let c of Object.getOwnPropertySymbols(h)){var y=h[c];c.description===x&&(!v||y!==v[c])&&(b[c]&&M(b[c]),b[c]=U(()=>_r(r,()=>y))),N[c]=y}v=N}),o&&V(r,()=>v.value),A=!0}function I(r){return r.__attributes??(r.__attributes={[H]:r.nodeName.includes("-"),[Y]:r.namespaceURI===X})}var j=new Map;function B(r){var a=j.get(r.nodeName);if(a)return a;j.set(r.nodeName,a=[]);for(var e,i=r,s=Element.prototype;s!==i;){e=rr(i);for(var f in e)e[f].set&&a.push(f);i=Z(i)}return a}export{vr as a,Er as b,Sr as c,Tr as d,kr as r,w as s};
