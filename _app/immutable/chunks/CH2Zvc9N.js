import{O as N,Q as q,aN as x,aO as z,aD as B,u as I,aP as M,aA as Q,a5 as $,al as w,aQ as O,aR as S,aS as j}from"./DFVDwLkn.js";import{b as D}from"./DtXc3cm1.js";import{w as G}from"./Dfd7ZcYM.js";const K=()=>performance.now(),v={tick:r=>requestAnimationFrame(r),now:()=>K(),tasks:new Set};function L(){const r=v.now();v.tasks.forEach(t=>{t.c(r)||(v.tasks.delete(t),t.f())}),v.tasks.size!==0&&v.tick(L)}function U(r){let t;return v.tasks.size===0&&v.tick(L),{promise:new Promise(o=>{v.tasks.add(t={c:r,f:o})}),abort(){v.tasks.delete(t)}}}function R(r,t){G(()=>{r.dispatchEvent(new CustomEvent(t))})}function W(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const t=r.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(o=>o[0].toUpperCase()+o.slice(1)).join("")}function g(r){const t={},o=r.split(";");for(const e of o){const[f,i]=e.split(":");if(!f||i===void 0)break;const l=W(f.trim());t[l]=i.trim()}return t}const H=r=>r;function Z(r,t,o,e){var f=(r&M)!==0,i="in",l,y=t.inert,d=t.style.overflow,a,h;function m(){var u=j,p=N;O(null),S(null);try{return l??(l=o()(t,(e==null?void 0:e())??{},{direction:i}))}finally{O(u),S(p)}}var _={is_global:f,in(){t.inert=y,a==null||a.abort(),R(t,"introstart"),a=P(t,m(),h,1,()=>{R(t,"introend"),a==null||a.abort(),a=l=void 0,t.style.overflow=d})},out(u){{u==null||u(),l=void 0;return}},stop:()=>{a==null||a.abort()}},c=N;if((c.transitions??(c.transitions=[])).push(_),D){var s=f;if(!s){for(var n=c.parent;n&&(n.f&q)!==0;)for(;(n=n.parent)&&(n.f&x)===0;);s=!n||(n.f&z)!==0}s&&B(()=>{I(()=>_.in())})}}function P(r,t,o,e,f){if(Q(t)){var i,l=!1;return $(()=>{if(!l){var n=t({direction:"in"});i=P(r,n,o,e,f)}}),{abort:()=>{l=!0,i==null||i.abort()},deactivate:()=>i.deactivate(),reset:()=>i.reset(),t:()=>i.t()}}if(!(t!=null&&t.duration))return f(),{abort:w,deactivate:w,reset:w,t:()=>e};const{delay:y=0,css:d,tick:a,easing:h=H}=t;var m=[];if(a&&a(0,1),d){var _=g(d(0,1));m.push(_,_)}var c=()=>1-e,s=r.animate(m,{duration:y,fill:"forwards"});return s.onfinish=()=>{s.cancel();var n=1-e,u=e-n,p=t.duration*Math.abs(u),F=[];if(p>0){var T=!1;if(d)for(var A=Math.ceil(p/16.666666666666668),E=0;E<=A;E+=1){var C=n+u*h(E/A),b=g(d(C,1-C));F.push(b),T||(T=b.overflow==="hidden")}T&&(r.style.overflow="hidden"),c=()=>{var k=s.currentTime;return n+u*h(k/p)},a&&U(()=>{if(s.playState!=="running")return!1;var k=c();return a(k,1-k),!0})}s=r.animate(F,{duration:p,fill:"forwards"}),s.onfinish=()=>{c=()=>e,a==null||a(e,1-e),f()}},{abort:()=>{s&&(s.cancel(),s.effect=null,s.onfinish=w)},deactivate:()=>{f=w},reset:()=>{},t:()=>c()}}const J=r=>r;function tt(r,{delay:t=0,duration:o=400,easing:e=J}={}){const f=+getComputedStyle(r).opacity;return{delay:t,duration:o,easing:e,css:i=>`opacity: ${i*f}`}}export{tt as f,Z as t};
