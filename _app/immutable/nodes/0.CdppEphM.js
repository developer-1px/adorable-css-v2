import{c as y,a as C}from"../chunks/N5f3DWzY.js";import"../chunks/DXEfW32L.js";import{o as E}from"../chunks/Dnxq7rP3.js";import{p as v,f as _,b as A}from"../chunks/CIQObfW_.js";import{s as z}from"../chunks/DFInT3gh.js";import{i as L}from"../chunks/YFFPbOEd.js";import"../chunks/DW9qJUvo.js";import{a as m}from"../chunks/Ut3IJJ1r.js";const c={version:"2.0.0-beta.1",init:(e={})=>{if(typeof window>"u"){console.warn("AdorableCSS v2 is intended for browser use only");return}const{watch:t=!0,target:n,debug:l=!1}=e;let i=document.getElementById("adorable-css-v2-styles");if(!i){i=document.createElement("style"),i.id="adorable-css-v2-styles",i.setAttribute("data-adorable-css-v2","true");const s=document.head,o=s.querySelector('style, link[rel="stylesheet"]');o?s.insertBefore(i,o):s.appendChild(i)}if(!t)return;const r=new Set,S=()=>{const s=[...r],o=m(s);if(i.innerHTML=o,l){const a=g(s);a.length>0&&(console.warn("AdorableCSS v2: Failed to generate CSS for classes:",a),console.log("These classes might need to be added to the core rules. Please report them!")),console.log("AdorableCSS v2: Updated styles for classes:",s),console.log(`Generated ${s.length} classes, ${a.length} failed`)}},f=s=>{s.classList.forEach(o=>{r.has(o)||r.add(o)})},b=(s=document.documentElement)=>{let o=!1;const a=r.size;f(s),r.size>a&&(o=!0),s.querySelectorAll("*").forEach(u=>{const w=r.size;f(u),r.size>w&&(o=!0)}),o&&S()};b();const h=new MutationObserver(s=>{let o=!1;s.forEach(a=>{if(a.type==="attributes"&&a.attributeName==="class"){const d=r.size;f(a.target),r.size>d&&(o=!0)}a.type==="childList"&&a.addedNodes.forEach(d=>{if(d.nodeType===Node.ELEMENT_NODE){const u=r.size;b(d),r.size>u&&(o=!0)}})}),o&&S()}),p=typeof n=="string"?document.querySelector(n)||document.documentElement:n||document.documentElement;h.observe(p,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class"]}),window.__adorableCSSV2Observer=h,window.__adorableCSSV2StyleElement=i,l&&console.log("AdorableCSS v2: Initialized and watching for class changes")},generate:(e,t)=>{const n=m(e);if(t!=null&&t.debug){const l=g(e);l.length>0&&(console.warn("AdorableCSS v2: Failed to generate CSS for classes:",l),console.log("These classes might need to be added to the core rules. Please report them!")),console.log(`Generated CSS for ${e.length} classes, ${l.length} failed`)}return n},destroy:()=>{if(typeof window>"u")return;const e=window.__adorableCSSV2Observer;e&&(e.disconnect(),delete window.__adorableCSSV2Observer);const t=window.__adorableCSSV2StyleElement;t&&t.parentNode&&(t.parentNode.removeChild(t),delete window.__adorableCSSV2StyleElement)}};if(typeof window<"u"){const e=document.currentScript;(e==null?void 0:e.getAttribute("data-auto-init"))!=="false"&&(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{c.init()}):c.init()),window.AdorableCSSV2=c}function g(e){return e.filter(t=>{const n=m([t]);if(!n||n.trim()==="")return!0;const l=n.replace(/\s/g,"");return/^\.[\w\\():-]+\{\}$/.test(l)})}function q(e,t){v(t,!1),E(()=>{c.init({watch:!0,debug:!1})}),L();var n=y(),l=_(n);z(l,t,"default",{}),C(e,n),A()}export{q as component};
