<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AdorableCSS Color Palette Preview</title>
  <script src="./packages/adorable-css-core/dist/index.js"></script>
  <style>
    body {
      font-family: system-ui, -apple-system, sans-serif;
      margin: 0;
      padding: 20px;
      background: #f5f5f5;
    }
    .container {
      max-width: 1400px;
      margin: 0 auto;
    }
    h1 {
      font-size: 2.5rem;
      margin-bottom: 10px;
      color: #333;
    }
    .subtitle {
      color: #666;
      margin-bottom: 40px;
    }
    .color-group {
      margin-bottom: 30px;
      background: white;
      border-radius: 12px;
      padding: 20px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    }
    .color-name {
      font-size: 1.2rem;
      font-weight: 600;
      margin-bottom: 15px;
      text-transform: capitalize;
      color: #333;
    }
    .color-row {
      display: flex;
      gap: 2px;
      margin-bottom: 2px;
      height: 60px;
    }
    .color-swatch {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 12px;
      font-weight: 500;
      text-shadow: 0 1px 2px rgba(0,0,0,0.2);
      transition: transform 0.2s;
      cursor: pointer;
      position: relative;
      overflow: hidden;
    }
    .color-swatch:hover {
      transform: scale(1.05);
      z-index: 10;
      box-shadow: 0 4px 20px rgba(0,0,0,0.2);
    }
    .color-swatch.light {
      color: #333;
      text-shadow: none;
    }
    .color-info {
      position: absolute;
      bottom: 4px;
      left: 8px;
      font-size: 10px;
      opacity: 0.8;
    }
    .gradient-section {
      margin-top: 40px;
    }
    .gradient-row {
      display: flex;
      gap: 10px;
      margin-bottom: 10px;
    }
    .gradient-swatch {
      height: 100px;
      flex: 1;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: 600;
      text-shadow: 0 1px 3px rgba(0,0,0,0.3);
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>AdorableCSS Color Palette</h1>
    <p class="subtitle">OKLCH-based color system for beautiful, perceptually uniform colors</p>
    
    <div id="color-container"></div>
    
    <div class="gradient-section">
      <h2>Gradient Examples</h2>
      <div class="gradient-row">
        <div class="gradient-swatch bg(blue-400..purple-400/135deg)">
          blue-400..purple-400
        </div>
        <div class="gradient-swatch bg(pink-300..orange-400/90deg)">
          pink-300..orange-400
        </div>
        <div class="gradient-swatch bg(green-400..teal-500/45deg)">
          green-400..teal-500
        </div>
      </div>
      <div class="gradient-row">
        <div class="gradient-swatch bg(red-500..yellow-400/to-right)">
          red-500..yellow-400
        </div>
        <div class="gradient-swatch bg(indigo-600..pink-500/180deg)">
          indigo-600..pink-500
        </div>
        <div class="gradient-swatch bg(emerald-400..sky-400/120deg)">
          emerald-400..sky-400
        </div>
      </div>
    </div>
  </div>

  <script>
    // Initialize AdorableCSS
    const { parseRules, generateCSS, colorPalette } = window.adorableCSS;
    
    // Process gradient swatches
    const gradientSwatches = document.querySelectorAll('.gradient-swatch');
    gradientSwatches.forEach(el => {
      const className = el.className.match(/bg\([^)]+\)/)?.[0];
      if (className) {
        const rules = parseRules(className);
        if (rules) {
          const css = generateCSS(className, rules);
          const style = document.createElement('style');
          style.textContent = `.${className.replace(/[()./]/g, '\\$&')} { ${css.match(/{([^}]+)}/)?.[1] || ''} }`;
          document.head.appendChild(style);
        }
      }
    });
    
    // Color groups to display
    const colorGroups = [
      'gray', 'slate', 'zinc', 'neutral', 'stone',
      'red', 'orange', 'amber', 'yellow', 'lime',
      'green', 'emerald', 'teal', 'cyan', 'sky',
      'blue', 'indigo', 'violet', 'purple', 'fuchsia',
      'pink', 'rose'
    ];
    
    const shades = [50, 100, 200, 300, 400, 500, 600, 700, 800, 900];
    
    const container = document.getElementById('color-container');
    
    colorGroups.forEach(colorName => {
      const group = document.createElement('div');
      group.className = 'color-group';
      
      const title = document.createElement('div');
      title.className = 'color-name';
      title.textContent = colorName;
      group.appendChild(title);
      
      const row = document.createElement('div');
      row.className = 'color-row';
      
      shades.forEach(shade => {
        const swatch = document.createElement('div');
        swatch.className = 'color-swatch';
        if (shade <= 200) swatch.classList.add('light');
        
        const colorKey = `${colorName}-${shade}`;
        const colorValue = colorPalette[colorKey];
        
        if (colorValue) {
          swatch.style.background = colorValue;
          swatch.innerHTML = `
            <span>${shade}</span>
            <span class="color-info">${colorName}-${shade}</span>
          `;
          
          // Copy color value on click
          swatch.addEventListener('click', () => {
            navigator.clipboard.writeText(colorKey);
            swatch.style.transform = 'scale(0.95)';
            setTimeout(() => {
              swatch.style.transform = '';
            }, 100);
          });
        }
        
        row.appendChild(swatch);
      });
      
      group.appendChild(row);
      container.appendChild(group);
    });
  </script>
</body>
</html>